library(xlsx)
install.packages("xlsx")
library(xlsx)
read.xlsx("census_fields.xlsx", sheet = 1)
read.xlsx("census_fields.xlsx")
read.xlsx("census_fields.xlsx" sheet = "1")
read.xlsx("census_fields.xlsx" sheet = 1)
read.xlsx("census_fields.xlsx" sheet = 1)
read.xlsx("census_fields.xlsx", sheet = 1)
read.xlsx("census_fields.xlsx", sheet = '')
read.xlsx("census_fields.xlsx", sheet = "")
read.xlsx("census_fields.xlsx", sheetIndex  = "")
read.xlsx("census_fields.xlsx", sheetIndex  = "1")
read.xlsx("census_fields.xlsx", sheetIndex  = 1)
setwd("~/Downloads")
read.xlsx("census_fields.xlsx", sheetIndex  = 1)
cf <- read.xlsx("census_fields.xlsx", sheetIndex  = 1)
View(cf)
sum(is.na(cf$Display))
sum(!is.na(cf$Display))
sum(!is.na(cf$Display))
sum(!is.na(cf$Display))
setwd("~/Downloads")
mp <- read.csv("missing.csv")
mp
View(mp)
mp[-1:10, ]
mp[-c(1:10), ]
mp[-c(1:17), ]
mp <- mp[-c(1:17), ]
mp <- mp[ , c(1:5,7, 6, 8, 9)]
View(mp)
missing <- read.csv("missing.csv")
View(missing)
View(mp)
View(missing)
missing <- missing[-c(18:125), ]
View(missing)
colnames(mp)
colnames(mp)[6] <- "country"
colnames(mp)[7] <- "city"
View(mp)
new <- rbind(missing, mp)
View(new)
?geocode
??geocode
library(ggmap)
?geocode
View(new)
paste(new$country, new$city)
paste(new$country, ",", new$city)
paste(new$country, ", ", new$city)
paste(new$city, ", ", new$country)
input <- paste(new$city, ", ", new$country)
geocode(input)
geocodes <- geocode(input)
View(geocodes)
setwd("~/Desktop/maps")
input
setwd("~/Desktop/maps")
master <- read.csv("master_extents.csv")
View(master)
updated   <- master[master$code != "CHOREOMUNDUS" &&
master$code != "CWCN" &&
master$code != "DESEM" &&
master$code != "EDAMUS" &&
master$code != "EM-SANF" &&
master$code != "EUROCULTURE" &&
master$code != "EUROPHILOSOPHIE" &&
master$code != "EWEM" &&
master$code != "FAME" &&
master$code != "GEMMA" &&
master$code != "IT4BI" &&
master$code != "JEMES" &&
master$code != "MARIHE" &&
master$code != "MEDfOR" &&
master$code != "MITRA" &&
master$code != "MSPME" &&
master$code != "MUNDUS MAPP" &&
master$code != "NOMADS EMMC" &&
master$code != "PLANET Europe" &&
master$code != "SAHC" &&
master$code != "SUFONAMA" &&
master$code != "WACOMA", ]
updated   <- master[master$code != "CHOREOMUNDUS" ||
master$code != "CWCN" ||
master$code != "DESEM" ||
master$code != "EDAMUS" ||
master$code != "EM-SANF" ||
master$code != "EUROCULTURE" ||
master$code != "EUROPHILOSOPHIE" ||
master$code != "EWEM" ||
master$code != "FAME" ||
master$code != "GEMMA" ||
master$code != "IT4BI" ||
master$code != "JEMES" ||
master$code != "MARIHE" ||
master$code != "MEDfOR" ||
master$code != "MITRA" ||
master$code != "MSPME" ||
master$code != "MUNDUS MAPP" ||
master$code != "NOMADS EMMC" ||
master$code != "PLANET Europe" ||
master$code != "SAHC" ||
master$code != "SUFONAMA" ||
master$code != "WACOMA", ]
updated   <- master[master$code != "CHOREOMUNDUS" &
updated   <- master[master$code != "CHOREOMUNDUS" &
master$code != "CWCN" &
master$code != "DESEM" &
master$code != "EDAMUS" &
master$code != "EM-SANF" &
master$code != "EUROCULTURE" &
master$code != "EUROPHILOSOPHIE" &
master$code != "EWEM" &
master$code != "FAME" &
master$code != "GEMMA" &
master$code != "IT4BI" &
master$code != "JEMES" &
master$code != "MARIHE" &
master$code != "MEDfOR" &
master$code != "MITRA" &
master$code != "MSPME" &
master$code != "MUNDUS MAPP" &
master$code != "NOMADS EMMC" &
master$code != "PLANET Europe" &
master$code != "SAHC" &
master$code != "SUFONAMA" &
master$code != "WACOMA", ]
master$code
master$code <- as.character(master$code)
updated   <- master[master$code != "CHOREOMUNDUS" ||
master$code != "CWCN" &&
master$code != "DESEM" &&
master$code != "EDAMUS" &&
master$code != "EM-SANF" &&
master$code != "EUROCULTURE" &&
master$code != "EUROPHILOSOPHIE" &&
master$code != "EWEM" &&
master$code != "FAME" &&
master$code != "GEMMA" &&
master$code != "IT4BI" &&
master$code != "JEMES" &&
master$code != "MARIHE" &&
master$code != "MEDfOR" &&
master$code != "MITRA" &&
master$code != "MSPME" &&
master$code != "MUNDUS MAPP" &&
master$code != "NOMADS EMMC" &&
master$code != "PLANET Europe" &&
master$code != "SAHC" &&
master$code != "SUFONAMA" &&
master$code != "WACOMA", ]
updated   <- master[master$code != "CHOREOMUNDUS" &&
master$code != "CWCN" &&
master$code != "DESEM" &&
master$code != "EDAMUS" &&
master$code != "EM-SANF" &&
master$code != "EUROCULTURE" &&
master$code != "EUROPHILOSOPHIE" &&
master$code != "EWEM" &&
master$code != "FAME" &&
master$code != "GEMMA" &&
master$code != "IT4BI" &&
master$code != "JEMES" &&
master$code != "MARIHE" &&
master$code != "MEDfOR" &&
master$code != "MITRA" &&
master$code != "MSPME" &&
master$code != "MUNDUS MAPP" &&
master$code != "NOMADS EMMC" &&
master$code != "PLANET Europe" &&
master$code != "SAHC" &&
master$code != "SUFONAMA" &&
master$code != "WACOMA", ]
class(master$code)
updated   <- master[master$code != "CHOREOMUNDUS" &
master$code != "CWCN" &
master$code != "DESEM" &
master$code != "EDAMUS" &
master$code != "EM-SANF" &
master$code != "EUROCULTURE" &
master$code != "EUROPHILOSOPHIE" &
master$code != "EWEM" &
master$code != "FAME" &
master$code != "GEMMA" &
master$code != "IT4BI" &
master$code != "JEMES" &
master$code != "MARIHE" &
master$code != "MEDfOR" &
master$code != "MITRA" &
master$code != "MSPME" &
master$code != "MUNDUS MAPP" &
master$code != "NOMADS EMMC" &
master$code != "PLANET Europe" &
master$code != "SAHC" &
master$code != "SUFONAMA" &
master$code != "WACOMA", ]
master <- read.csv("master_extents.csv")
master$code <- as.character(master$code)
updated   <- master[master$code != "CHOREOMUNDUS" &
master$code != "CWCN" &
master$code != "DESEM" &
master$code != "EDAMUS" &
master$code != "EM-SANF" &
master$code != "EUROCULTURE" &
master$code != "EUROPHILOSOPHIE" &
master$code != "EWEM" &
master$code != "FAME" &
master$code != "GEMMA" &
master$code != "IT4BI" &
master$code != "JEMES" &
master$code != "MARIHE" &
master$code != "MEDfOR" &
master$code != "MITRA" &
master$code != "MSPME" &
master$code != "MUNDUS MAPP" &
master$code != "NOMADS EMMC" &
master$code != "PLANET Europe" &
master$code != "SAHC" &
master$code != "SUFONAMA" &
master$code != "WACOMA", ]
View(new)
View(master)
View(geocodes)
new$lat <- geocodes$lat
new$lon <- geocodes$lon
View(new)
write.csv(new, "new.csv")
new <- readOGR("new.geojson", "OGRGeoJSON")
library(maptools)
library(sp)
library(raster)
library(rgdal)
library(maps)
new <- readOGR("new.geojson", "OGRGeoJSON")
programs_split <- split(new, new@data$code)
result <- vector("list", 23)
for (i in 1:length(programs_split)) {
result[[i]] <- bbox(programs_split[[i]])
}
result
foo <- data.frane(matrix(ncol = 4, nrow =23))
foo <- data.frame(matrix(ncol = 4, nrow =23))
View(foo)
for (i in 1:length(result)){
foo$X1[i] <- result[[i]][1]
foo$X2[i] <- result[[i]][2]
foo$X3[i] <- result[[i]][3]
foo$X4[i] <- result[[i]][4]
}
View(foo)
str(programs_split)
rownames(programs_split)
programs_split[1]
programs_split[[1]]
View(geocodes)
View(master)
View(mp)
rm(mp)
np <- read.csv("new.csv")
View(np)
np[1] <- NULL
np[1] <- NULL
programs_split[[2]]
programs_split[[3]]
programs_split[[4]]
programs_split[[5]]
programs_split[[6]]
codes <- unique(np$code)
codes <- as.data.frame(unique(np$code))
View(codes)
colnames(codes[1]) <- "code"
View(codes)
colnames(codes)[1] <- "code"
codes[,order(codes$code)]
codes[,,order(codes$code)]
codes[,,order(-codes$code)]
codes[,,order(codes$code)]
codes$code <- as.character(codes$code)
codes[,,order(codes$code)]
codes[,,order(-codes$code)]
codes[,,order-(codes$code)]
codess[order(codes$code),]
codes[order(codes$code),]
codes <- codes[order(codes$code),]
codes <- unique(np$code)
codes <- as.character(codes)
codes <- order(codes)
codes <- unique(np$code)
codes <- as.character(codes)
order(codes)
codes <- as.data.frame(codes)
stulevel <- codes[order(-codes$codes) , ]
codes$codes<- as.character(codes$codes)
stulevel <- codes[order(-codes$codes) , ]
stulevel <- codes[order(codes$codes) , ]
stulevel <- as.data.frame(codes[order(codes$codes) , ])
View(stulevel)
programs_split[[2]]
codes <- stulevel
names(codes)[1] <- code
names(codes)[1] <- "code"
View(codes)
foo
foo <- cbind(codes, foo)
View(foo)
colnames(updated)
foo$X1 <- foo$X1 =1
foo$X2 <- foo$X2 = 1
foo$X3 <- foo$X3 + 1
foo$X4 <- foo$X5 + 1
foo$X4 <- foo$X4 + 1
foo$X1 <- foo$X1 -1
foo$X2 <- foo$X2 - 1
np
head(np)
colnames(np)
View(foo)
merge(np, foo, by.x = "code", by.y = "code")
merged <- merge(np, foo, by.x = "code", by.y = "code")
View(merged)
colnames(updated)[10:13]
colnames(merged)[9:12} <- colnames(updated)[10:13]
colnames(merged)[9:12] <- colnames(updated)[10:13]
colnames(updated)
updated[1] <- NULL
colnames(updated)
new <- rbind(updated, merged)
write.csv(new, "new.csv")
View(missing)
View(master)
View(new)
install.packages("qdap")
library(qdap)
char2end(new$title, "-")
View(new)
new$title[486]
new$title[313]
char2end(new$title, "-")
titles <- char2end(new$title, "-")
titles
View(new)
index <- new$title ==  "EMLex"
index
index <- new$code ==  "EMLex"
index
View(new)
new$code
index <- new$code ==  "EMLex "
index
is.true(index)
new$title[index]
new$title[index] <- "European Master in Lexicography"
class(new$title)
new$title <- as.character(new$title)
new$title[index] <- "European Master in Lexicography"
View(new)
titles
View(new)
index <- new$code ==  "SERP+"
new$title[index]
new$title[index] <- "Joint European Master in Surface, Electro, Radiation and Photochemistry"
View(new)
titles <- char2end(new$title, "-")
titles
View(new)
index <- new$code ==  "VufindR"
new$title[index]
new$title[index] <- "\"Viewfinder\" Cinematography Erasmus Mundus Joint Master Degree"
View(new)
titles <- char2end(new$title, "-")
titles
trimws(new$title, which = c("both", "left", "right"))
new$title <- trimws(new$title, which = c("both", "left", "right"))
write.csv(new, "new.csv")
write.csv(new, "new.csv")
View(new)
new$title <- char2end(new$title, "-")
View(new)
write.csv(new, "new.csv")
index <- new$city ==  "Nice"
new$city[index]
class(new$city)
new$city <- as.character(new$city)
index <- new$city ==  "Nice"
new$city[index]
new$lat[index]
new$lon[index]
new <- new[new$code != "EUROAQUAE+"]
new <- new[new$code != "EUROAQUAE+", ]
replace <- read.csv("new.csv")
replace <- replace[replace$code == "EUROAQUAE+", ]
repace[1] <- NULL
replace[1] <- NULL
View(replace)
aqua <- new[new$code == "EuroAquae+"]
aqua <- new[new$code == "EuroAquae+",]
View(aqua)
View(new)
write.csv(new, "new.csv")
View(aqua)
View(new)
new[,398]
new[398,]
new[-c(410, 409, 408, 407, 406, 405, 404), ]
new[-c(411,410, 409, 408, 407, 406, 405, 404), ]
new <- new[-c(411,410, 409, 408, 407, 406, 405, 404, 403), ]
View(new)
write.csv(new, "new.csv")
unique(new$code)
